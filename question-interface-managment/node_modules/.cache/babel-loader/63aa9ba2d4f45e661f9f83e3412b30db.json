{"ast":null,"code":"var _jsxFileName = \"/Users/palp/now/QMI/question-interface-managment/src/components/BetaEditDialog2.js\";\nimport React, { useContext, useEffect } from \"react\";\nimport { Button, Dialog, FormControl, Grid, InputLabel, MenuItem, Select, Typography, Paper, Box, makeStyles, Divider } from \"@material-ui/core\";\nimport { QuestionnaireContext } from \"../contexts/QuestionnaireContext\";\nimport { SettingsContext } from \"../contexts/SettingsContext\";\nimport { NewQuestionContext } from \"../contexts/NewQuestionContext\";\nimport { PROPERTIES_BY_QUESTION_TYPE, SPECIAL_CONVERSION_CASES, CLEAN_SUPER_QUESTION } from \"../utils\";\nimport Card from \"@material-ui/core/Card\";\nimport { IOptions as classes } from \"glob\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { borderColor } from \"@material-ui/system\";\nimport { WidthProperty } from \"./QuestionnaireProperties\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setQuestion, resetAll, questionSlice } from \"../features/questionProperties/questionSlice\";\nimport { setQuestionAtIndex } from \"../features/questions/questionsSlice\";\nimport { useState } from \"react\";\nimport TypeProperty from \"./properties/TypeProperty\";\nimport { createElement } from \"react\";\nimport store from \"../app/store\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nconst useStyles = makeStyles(theme => ({\n  body: {\n    \"&>*\": {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n      padding: theme.spacing(2)\n    }\n  },\n  button1: {\n    // background: fade(theme.palette.secondary.main, 0.1),\n    height: \"70px\",\n    width: \"100%\",\n    borderRadius: 0\n  },\n  button2: {\n    // background: fade(theme.palette.primary.main, 0.1),\n    height: \"70px\",\n    width: \"100%\",\n    borderRadius: 0\n  },\n  stickyTop: {\n    background: theme.palette.background.paper,\n    position: \"sticky\",\n    top: 0,\n    zIndex: 1\n  },\n  stickyBot: {\n    background: theme.palette.background.paper,\n    position: \"sticky\",\n    bottom: 0\n  },\n  mtb: {\n    marginTop: theme.spacing(2) // marginBottom: theme.spacing(2),\n\n  },\n  header: {\n    padding: theme.spacing(2)\n  }\n}));\n\nconst EditDialog2 = ({\n  question,\n  index,\n  open,\n  setOpen\n}) => {\n  // const newQuestion = useSelector((state) => state.question);\n  const dispatch2 = useDispatch(); // const { dispatch } = useContext(QuestionnaireContext);\n\n  const {\n    dispatch\n  } = useContext(QuestionnaireContext); // load question to editor state on dialog open\n\n  useEffect(() => {\n    dispatch2(setQuestion({ ...CLEAN_SUPER_QUESTION,\n      ...question\n    }));\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const state = store.getState();\n    const newQuestion = state.question;\n    dispatch({\n      type: \"UPDATE_QUESTION\",\n      id: question.id,\n      new: newQuestion\n    }); // console.log(newQuestion);\n    // setOpen(false);\n  }; // cancel all and return to QuestionsPage\n\n\n  const handleClose = () => {\n    // dispatch(resetAll());\n    setOpen(false);\n  };\n\n  const classes = useStyles();\n  return React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    fullWidth: true,\n    maxWidth: \"lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"center\",\n    alignItems: \"stretch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(DialogHeader, {\n    className: classes.header,\n    index: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(Box, {\n    p: 2.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(DialogBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })), React.createElement(DialogFooter, {\n    handleClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }))));\n};\n\nexport default EditDialog2;\n\nconst DialogHeader = ({\n  index,\n  ...props\n}) => {\n  const classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.stickyTop,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(Grid, Object.assign({\n    container: true,\n    direction: \"row\",\n    justify: \"space-between\",\n    alignItems: \"center\",\n    style: {\n      width: \"95%\"\n    }\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, `Question ${index + 1}`)), React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(TypeProperty, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }))), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }));\n};\n\nconst DialogBody = () => {\n  const type = useSelector(state => state.question.type);\n  const classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.body,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"subtitle2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"Required properties\"), PROPERTIES_BY_QUESTION_TYPE[type.toUpperCase()][\"requiredProperties\"].map(el => React.createElement(Box, {\n    className: classes.mtb,\n    p: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, createElement(el)))), React.createElement(Paper, {\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"subtitle2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"Optional properties\"), PROPERTIES_BY_QUESTION_TYPE[type.toUpperCase()][\"optionalProperties\"].map(el => React.createElement(Box, {\n    className: classes.mtb,\n    p: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, createElement(el)))));\n};\n\nconst DialogFooter = ({\n  handleClose\n}) => {\n  const classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.stickyBot,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(Button, {\n    disableElevation: true,\n    className: classes.button1 // variant=\"contained\"\n    ,\n    color: \"secondary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"cancel\")), React.createElement(Divider, {\n    orientation: \"vertical\",\n    flexItem: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(Button, {\n    disableElevation: true,\n    className: classes.button2,\n    color: \"primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \"save\"))));\n};","map":{"version":3,"sources":["/Users/palp/now/QMI/question-interface-managment/src/components/BetaEditDialog2.js"],"names":["React","useContext","useEffect","Button","Dialog","FormControl","Grid","InputLabel","MenuItem","Select","Typography","Paper","Box","makeStyles","Divider","QuestionnaireContext","SettingsContext","NewQuestionContext","PROPERTIES_BY_QUESTION_TYPE","SPECIAL_CONVERSION_CASES","CLEAN_SUPER_QUESTION","Card","IOptions","classes","CardContent","borderColor","WidthProperty","useDispatch","useSelector","setQuestion","resetAll","questionSlice","setQuestionAtIndex","useState","TypeProperty","createElement","store","fade","useStyles","theme","body","marginTop","spacing","marginBottom","padding","button1","height","width","borderRadius","button2","stickyTop","background","palette","paper","position","top","zIndex","stickyBot","bottom","mtb","header","EditDialog2","question","index","open","setOpen","dispatch2","dispatch","handleSubmit","event","preventDefault","state","getState","newQuestion","type","id","new","handleClose","DialogHeader","props","DialogBody","toUpperCase","map","el","DialogFooter"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport {\n  Button,\n  Dialog,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Typography,\n  Paper,\n  Box,\n  makeStyles,\n  Divider,\n} from \"@material-ui/core\";\nimport { QuestionnaireContext } from \"../contexts/QuestionnaireContext\";\nimport { SettingsContext } from \"../contexts/SettingsContext\";\nimport { NewQuestionContext } from \"../contexts/NewQuestionContext\";\nimport {\n  PROPERTIES_BY_QUESTION_TYPE,\n  SPECIAL_CONVERSION_CASES,\n  CLEAN_SUPER_QUESTION,\n} from \"../utils\";\nimport Card from \"@material-ui/core/Card\";\nimport { IOptions as classes } from \"glob\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { borderColor } from \"@material-ui/system\";\nimport { WidthProperty } from \"./QuestionnaireProperties\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  setQuestion,\n  resetAll,\n  questionSlice,\n} from \"../features/questionProperties/questionSlice\";\nimport { setQuestionAtIndex } from \"../features/questions/questionsSlice\";\nimport { useState } from \"react\";\nimport TypeProperty from \"./properties/TypeProperty\";\nimport { createElement } from \"react\";\nimport store from \"../app/store\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    \"&>*\": {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n      padding: theme.spacing(2),\n    },\n  },\n  button1: {\n    // background: fade(theme.palette.secondary.main, 0.1),\n    height: \"70px\",\n    width: \"100%\",\n    borderRadius: 0,\n  },\n  button2: {\n    // background: fade(theme.palette.primary.main, 0.1),\n    height: \"70px\",\n    width: \"100%\",\n    borderRadius: 0,\n  },\n  stickyTop: {\n    background: theme.palette.background.paper,\n    position: \"sticky\",\n    top: 0,\n    zIndex: 1\n  },\n  stickyBot: {\n    background: theme.palette.background.paper,\n    position: \"sticky\",\n    bottom: 0,\n  },\n  mtb: {\n    marginTop: theme.spacing(2),\n    // marginBottom: theme.spacing(2),\n  },\n  header: {\n    padding: theme.spacing(2),\n  },\n}));\n\n\nconst EditDialog2 = ({ question, index, open, setOpen }) => {\n  // const newQuestion = useSelector((state) => state.question);\n  const dispatch2 = useDispatch();\n  // const { dispatch } = useContext(QuestionnaireContext);\n\n  const { dispatch } = useContext(QuestionnaireContext);\n\n  // load question to editor state on dialog open\n  useEffect(() => {\n    dispatch2(setQuestion({ ...CLEAN_SUPER_QUESTION, ...question }));\n  }, []);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const state = store.getState();\n    const newQuestion = state.question;\n    dispatch({ type: \"UPDATE_QUESTION\", id: question.id, new: newQuestion });\n    // console.log(newQuestion);\n    // setOpen(false);\n  };\n\n  // cancel all and return to QuestionsPage\n  const handleClose = () => {\n    // dispatch(resetAll());\n    setOpen(false);\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"lg\">\n      <form onSubmit={handleSubmit}>\n        {/* <form style={{ padding: \"1em\" }}> */}\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"stretch\"\n        >\n          <DialogHeader className={classes.header} index={index} />\n          <Box p={2.5}>\n            <DialogBody />\n          </Box>\n          <DialogFooter handleClose={handleClose} />\n        </Grid>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default EditDialog2;\n\nconst DialogHeader = ({ index, ...props }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.stickyTop}>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"space-between\"\n        alignItems=\"center\"\n        style={{ width: \"95%\" }}\n        {...props}\n      >\n        <Grid item>\n          <Typography variant=\"h6\">{`Question ${index + 1}`}</Typography>\n        </Grid>\n        <Grid item>\n          <TypeProperty />\n        </Grid>\n      </Grid>\n      <Divider />\n    </div>\n  );\n};\n\n\n\nconst DialogBody = () => {\n  const type = useSelector((state) => state.question.type);\n  const classes = useStyles();\n  return (\n    <div className={classes.body}>\n      <Paper variant=\"outlined\">\n        <Typography variant=\"subtitle2\">Required properties</Typography>\n        {PROPERTIES_BY_QUESTION_TYPE[type.toUpperCase()][\n          \"requiredProperties\"\n        ].map((el) => (\n          <Box className={classes.mtb} p={0}>\n            {createElement(el)}\n          </Box>\n        ))}\n      </Paper>\n      <Paper variant=\"outlined\">\n        <Typography variant=\"subtitle2\">Optional properties</Typography>\n        {PROPERTIES_BY_QUESTION_TYPE[type.toUpperCase()][\n          \"optionalProperties\"\n        ].map((el) => (\n          <Box className={classes.mtb} p={0}>\n            {createElement(el)}\n          </Box>\n        ))}\n      </Paper>\n    </div>\n  );\n};\n\nconst DialogFooter = ({ handleClose }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.stickyBot}>\n      <Divider />\n      <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n        <Grid item xs>\n          <Button\n            disableElevation\n            className={classes.button1}\n            // variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleClose}\n          >\n            cancel\n          </Button>\n        </Grid>\n        <Divider orientation=\"vertical\" flexItem />\n        <Grid item xs>\n          <Button\n            disableElevation\n            className={classes.button2}\n            color=\"primary\"\n            type=\"submit\"\n          >\n            save\n          </Button>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}