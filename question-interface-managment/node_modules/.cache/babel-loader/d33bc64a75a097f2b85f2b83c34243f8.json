{"ast":null,"code":"import uuid from \"uuid/v1\";\n\nconst reorder = (list, startIndex, endIndex) => {\n  let newList = list.filter((item, index) => index != 1);\n  const newRemoved = list.slice(startIndex, startIndex + 1)[0]; // const [removed] = list.splice(startIndex, 1);\n\n  newList.splice(endIndex, 0, newRemoved);\n  return newList;\n};\n\nconst copy = (source, destination, droppableSource, droppableDestination) => {\n  const item = source[droppableSource.index];\n  destination.splice(droppableDestination.index, 0, {\n    id: uuid(),\n    type: item.label,\n    title: `untitled ${item.label}`,\n    options: [\"option1\", \"option2\", \"option3\", \"option4\"]\n  });\n  return destination;\n};\n\nconst QUESTION_TYPES = [{\n  id: uuid(),\n  label: \"checkbox\"\n}, {\n  id: uuid(),\n  label: \"radio\"\n}, {\n  id: uuid(),\n  label: \"likert\"\n}, {\n  id: uuid(),\n  label: \"range\"\n}, {\n  id: uuid(),\n  label: \"raw\"\n}, {\n  id: uuid(),\n  label: \"textarea\"\n}, {\n  id: uuid(),\n  label: \"textfield\"\n}, {\n  id: uuid(),\n  label: \"number\"\n}, {\n  id: uuid(),\n  label: \"expandable\"\n}, {\n  id: uuid(),\n  label: \"time\"\n}, {\n  id: uuid(),\n  label: \"date\"\n}, {\n  id: uuid(),\n  label: \"unsubscribed\"\n}, {\n  id: uuid(),\n  label: \"dropdown\"\n}, {\n  id: uuid(),\n  label: \"drawing\"\n}];\nexport const questionnaireReducer = (state, action) => {\n  switch (action.type) {\n    case \"REORDER\":\n      return reorder(state, action.source.index, action.destination.index);\n\n    case \"CLONE\":\n      return copy(QUESTION_TYPES, state, action.source, action.destination);\n\n    case \"SET_QUESTIONS\":\n      return action.questions;\n\n    case \"ADD_QUESTION\":\n      const uniq = uuid();\n      return [...state, {\n        id: uniq,\n        type: action.questionType.toLowerCase(),\n        title: \"untitled \" + action.questionType,\n        options: [\"option 1\", \"option 2\", \"option 3\", \"option 4\"]\n      }];\n\n    case \"REMOVE_QUESTION\":\n      return state.filter(question => question.id !== action.id);\n\n    case \"UPDATE_QUESTION\":\n      return state.map(question => question.id === action.id ? action.new : question);\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/palp/now/QMI/question-interface-managment/src/reducers/questionnaireReducer.js"],"names":["uuid","reorder","list","startIndex","endIndex","newList","filter","item","index","newRemoved","slice","splice","copy","source","destination","droppableSource","droppableDestination","id","type","label","title","options","QUESTION_TYPES","questionnaireReducer","state","action","questions","uniq","questionType","toLowerCase","question","map","new"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,OAAO,GAAG,CAACC,IAAD,EAAOC,UAAP,EAAmBC,QAAnB,KAAgC;AAC9C,MAAIC,OAAO,GAAGH,IAAI,CAACI,MAAL,CAAY,CAACC,IAAD,EAAOC,KAAP,KAAiBA,KAAK,IAAE,CAApC,CAAd;AACA,QAAMC,UAAU,GAAGP,IAAI,CAACQ,KAAL,CAAWP,UAAX,EAAuBA,UAAU,GAAG,CAApC,EAAuC,CAAvC,CAAnB,CAF8C,CAG9C;;AACAE,EAAAA,OAAO,CAACM,MAAR,CAAeP,QAAf,EAAyB,CAAzB,EAA4BK,UAA5B;AACA,SAAOJ,OAAP;AACD,CAND;;AAQA,MAAMO,IAAI,GAAG,CAACC,MAAD,EAASC,WAAT,EAAsBC,eAAtB,EAAuCC,oBAAvC,KAAgE;AAC3E,QAAMT,IAAI,GAAGM,MAAM,CAACE,eAAe,CAACP,KAAjB,CAAnB;AACAM,EAAAA,WAAW,CAACH,MAAZ,CAAmBK,oBAAoB,CAACR,KAAxC,EAA+C,CAA/C,EAAkD;AAChDS,IAAAA,EAAE,EAAEjB,IAAI,EADwC;AAEhDkB,IAAAA,IAAI,EAAEX,IAAI,CAACY,KAFqC;AAGhDC,IAAAA,KAAK,EAAG,YAAWb,IAAI,CAACY,KAAM,EAHkB;AAIhDE,IAAAA,OAAO,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC;AAJuC,GAAlD;AAMA,SAAOP,WAAP;AACD,CATD;;AAWA,MAAMQ,cAAc,GAAG,CACrB;AAAEL,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CADqB,EAErB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAFqB,EAGrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAHqB,EAIrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAJqB,EAKrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CALqB,EAMrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CANqB,EAOrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAPqB,EAQrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CARqB,EASrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CATqB,EAUrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAVqB,EAWrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAXqB,EAYrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAZqB,EAarB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAbqB,EAcrB;AAAEF,EAAAA,EAAE,EAAEjB,IAAI,EAAV;AAAcmB,EAAAA,KAAK,EAAE;AAArB,CAdqB,CAAvB;AAiBA,OAAO,MAAMI,oBAAoB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACrD,UAAQA,MAAM,CAACP,IAAf;AACE,SAAK,SAAL;AACE,aAAOjB,OAAO,CAACuB,KAAD,EAAQC,MAAM,CAACZ,MAAP,CAAcL,KAAtB,EAA6BiB,MAAM,CAACX,WAAP,CAAmBN,KAAhD,CAAd;;AACF,SAAK,OAAL;AACE,aAAOI,IAAI,CAACU,cAAD,EAAiBE,KAAjB,EAAwBC,MAAM,CAACZ,MAA/B,EAAuCY,MAAM,CAACX,WAA9C,CAAX;;AACF,SAAK,eAAL;AACE,aAAOW,MAAM,CAACC,SAAd;;AACF,SAAK,cAAL;AACE,YAAMC,IAAI,GAAG3B,IAAI,EAAjB;AACA,aAAO,CACL,GAAGwB,KADE,EAEL;AACEP,QAAAA,EAAE,EAAEU,IADN;AAEET,QAAAA,IAAI,EAAEO,MAAM,CAACG,YAAP,CAAoBC,WAApB,EAFR;AAGET,QAAAA,KAAK,EAAE,cAAcK,MAAM,CAACG,YAH9B;AAIEP,QAAAA,OAAO,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB,EAAqC,UAArC;AAJX,OAFK,CAAP;;AASF,SAAK,iBAAL;AACE,aAAOG,KAAK,CAAClB,MAAN,CAAawB,QAAQ,IAAIA,QAAQ,CAACb,EAAT,KAAgBQ,MAAM,CAACR,EAAhD,CAAP;;AACF,SAAK,iBAAL;AACE,aAAOO,KAAK,CAACO,GAAN,CAAUD,QAAQ,IACvBA,QAAQ,CAACb,EAAT,KAAgBQ,MAAM,CAACR,EAAvB,GAA4BQ,MAAM,CAACO,GAAnC,GAAyCF,QADpC,CAAP;;AAGF;AACE,aAAON,KAAP;AAzBJ;AA2BD,CA5BM","sourcesContent":["import uuid from \"uuid/v1\";\n\nconst reorder = (list, startIndex, endIndex) => {\n  let newList = list.filter((item, index) => index!=1);\n  const newRemoved = list.slice(startIndex, startIndex + 1)[0];\n  // const [removed] = list.splice(startIndex, 1);\n  newList.splice(endIndex, 0, newRemoved);\n  return newList;\n};\n\nconst copy = (source, destination, droppableSource, droppableDestination) => {\n  const item = source[droppableSource.index];\n  destination.splice(droppableDestination.index, 0, {\n    id: uuid(),\n    type: item.label,\n    title: `untitled ${item.label}`,\n    options: [\"option1\", \"option2\", \"option3\", \"option4\"]\n  });\n  return destination;\n};\n\nconst QUESTION_TYPES = [\n  { id: uuid(), label: \"checkbox\" },\n  { id: uuid(), label: \"radio\" },\n  { id: uuid(), label: \"likert\" },\n  { id: uuid(), label: \"range\" },\n  { id: uuid(), label: \"raw\" },\n  { id: uuid(), label: \"textarea\" },\n  { id: uuid(), label: \"textfield\" },\n  { id: uuid(), label: \"number\" },\n  { id: uuid(), label: \"expandable\" },\n  { id: uuid(), label: \"time\" },\n  { id: uuid(), label: \"date\" },\n  { id: uuid(), label: \"unsubscribed\" },\n  { id: uuid(), label: \"dropdown\" },\n  { id: uuid(), label: \"drawing\" }\n];\n\nexport const questionnaireReducer = (state, action) => {\n  switch (action.type) {\n    case \"REORDER\":\n      return reorder(state, action.source.index, action.destination.index);\n    case \"CLONE\":\n      return copy(QUESTION_TYPES, state, action.source, action.destination);\n    case \"SET_QUESTIONS\":\n      return action.questions;\n    case \"ADD_QUESTION\":\n      const uniq = uuid();\n      return [\n        ...state,\n        {\n          id: uniq,\n          type: action.questionType.toLowerCase(),\n          title: \"untitled \" + action.questionType,\n          options: [\"option 1\", \"option 2\", \"option 3\", \"option 4\"]\n        }\n      ];\n    case \"REMOVE_QUESTION\":\n      return state.filter(question => question.id !== action.id);\n    case \"UPDATE_QUESTION\":\n      return state.map(question =>\n        question.id === action.id ? action.new : question\n      );\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}