{"ast":null,"code":"var _jsxFileName = \"/Users/palp/now/QMI/question-interface-managment/src/components/BetaEditDialog2.js\";\nimport React, { useContext, useEffect } from \"react\";\nimport { Button, Dialog, FormControl, Grid, InputLabel, MenuItem, Select, Typography } from \"@material-ui/core\";\nimport { QuestionnaireContext } from \"../contexts/QuestionnaireContext\";\nimport { SettingsContext } from \"../contexts/SettingsContext\";\nimport { NewQuestionContext } from \"../contexts/NewQuestionContext\";\nimport { PROPERTIES_BY_QUESTION_TYPE, SPECIAL_CONVERSION_CASES } from \"../utils\";\nimport Card from \"@material-ui/core/Card\";\nimport { IOptions as classes } from \"glob\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { borderColor } from \"@material-ui/system\";\nimport { WidthProperty } from \"./QuestionnaireProperties\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setQuestion, resetAll } from \"../features/questionProperties/questionSlice\";\nimport { setQuestionAtIndex } from \"../features/questions/questionsSlice\";\nimport { useState } from \"react\";\nimport TypeProperty from \"./properties/TypeProperty\";\n\nconst EditDialog2 = ({\n  question,\n  index,\n  open,\n  setOpen\n}) => {\n  const newQuestion = useSelector(state => state.question);\n  const dispatch = useDispatch(); // load question to editor state on dialog open\n\n  useEffect(() => {\n    dispatch(setQuestion({ ...newQuestion,\n      ...question\n    }));\n  }, []); // dispatch action to questionnaireReducer to update question\n\n  const handleSubmit = event => {\n    event.preventDefault(); // do post processing here\n    // dispatch(setQuestionAtIndex({ index: index, question: newQuestion }));\n\n    dispatch({\n      type: \"UPDATE_QUESTION\",\n      id: question.id,\n      new: newQuestion\n    });\n    console.log(newQuestion);\n    setOpen(false); // dispatch(resetAll());\n  }; // cancel all and return to QuestionsPage\n\n\n  const handleClose = () => {\n    // dispatch(resetAll());\n    setOpen(false);\n  };\n\n  return React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    fullWidth: true,\n    maxWidth: \"md\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      padding: \"1em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"center\",\n    alignItems: \"stretch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(DialogHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(DialogBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(DialogFooter, {\n    handleClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }))));\n};\n\nexport default EditDialog2;\n\nconst DialogHeader = () => {\n  return React.createElement(Grid, {\n    item: true,\n    xs: true,\n    textAlign: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  });\n};\n\nconst DialogBody = () => {\n  const type = useSelector(state => state.question.type);\n\n  const renderProperties = renderRequired => {\n    const elements = [];\n    PROPERTIES_BY_QUESTION_TYPE[type.toUpperCase()][// deciding what properties should be rendered (what JSON element we should look at)\n    renderRequired ? \"requiredProperties\" : \"optionalProperties\"].map(property => elements.push(React.createElement(property)));\n    elements.forEach(element => console.log(element));\n    return elements;\n  };\n\n  const PropertyCategory = props => {\n    const style = props.renderRequired ? {\n      color: \"#FF9999\",\n      title: \"Required\"\n    } : {\n      color: \"#BABAF1\",\n      title: \"Optional\"\n    };\n    return React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        borderColor: style.color\n      },\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, style.title), renderProperties(props.renderRequired))));\n  };\n\n  return React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"center\",\n    alignItems: \"center\",\n    spacing: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    spacing: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(PropertyCategory, {\n    renderRequired: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), React.createElement(PropertyCategory, {\n    renderRequired: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }))));\n};\n\nconst DialogFooter = ({\n  handleClose\n}) => {\n  return React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    alignItems: \"flex-start\",\n    justify: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"cancel\")), React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"submit\")));\n};","map":{"version":3,"sources":["/Users/palp/now/QMI/question-interface-managment/src/components/BetaEditDialog2.js"],"names":["React","useContext","useEffect","Button","Dialog","FormControl","Grid","InputLabel","MenuItem","Select","Typography","QuestionnaireContext","SettingsContext","NewQuestionContext","PROPERTIES_BY_QUESTION_TYPE","SPECIAL_CONVERSION_CASES","Card","IOptions","classes","CardContent","borderColor","WidthProperty","useDispatch","useSelector","setQuestion","resetAll","setQuestionAtIndex","useState","TypeProperty","EditDialog2","question","index","open","setOpen","newQuestion","state","dispatch","handleSubmit","event","preventDefault","type","id","new","console","log","handleClose","padding","DialogHeader","DialogBody","renderProperties","renderRequired","elements","toUpperCase","map","property","push","createElement","forEach","element","PropertyCategory","props","style","color","title","DialogFooter"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport {\n  Button,\n  Dialog,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport { QuestionnaireContext } from \"../contexts/QuestionnaireContext\";\nimport { SettingsContext } from \"../contexts/SettingsContext\";\nimport { NewQuestionContext } from \"../contexts/NewQuestionContext\";\nimport {\n  PROPERTIES_BY_QUESTION_TYPE,\n  SPECIAL_CONVERSION_CASES,\n} from \"../utils\";\nimport Card from \"@material-ui/core/Card\";\nimport { IOptions as classes } from \"glob\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { borderColor } from \"@material-ui/system\";\nimport { WidthProperty } from \"./QuestionnaireProperties\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  setQuestion,\n  resetAll,\n} from \"../features/questionProperties/questionSlice\";\nimport { setQuestionAtIndex } from \"../features/questions/questionsSlice\";\nimport { useState } from \"react\";\nimport TypeProperty from \"./properties/TypeProperty\";\n\nconst EditDialog2 = ({ question, index, open, setOpen }) => {\n  const newQuestion = useSelector((state) => state.question);\n  const dispatch = useDispatch();\n\n  // load question to editor state on dialog open\n  useEffect(() => {\n    dispatch(setQuestion({...newQuestion, ...question}));\n  }, []);\n\n  // dispatch action to questionnaireReducer to update question\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    // do post processing here\n    // dispatch(setQuestionAtIndex({ index: index, question: newQuestion }));\n    dispatch({ type: \"UPDATE_QUESTION\", id: question.id, new: newQuestion });\n    console.log(newQuestion);\n    setOpen(false);\n    // dispatch(resetAll());\n  };\n\n  // cancel all and return to QuestionsPage\n  const handleClose = () => {\n    // dispatch(resetAll());\n    setOpen(false);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\">\n      <form onSubmit={handleSubmit} style={{ padding: \"1em\" }}>\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"stretch\"\n        >\n          <DialogHeader />\n          <DialogBody />\n          <DialogFooter handleClose={handleClose} />\n        </Grid>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default EditDialog2;\n\nconst DialogHeader = () => {\n  return (\n    <Grid item xs textAlign=\"right\">\n      {/* <TypeProperty /> */}\n    </Grid>\n  );\n};\n\nconst DialogBody = () => {\n  const type = useSelector(state => state.question.type);\n\n  const renderProperties = (renderRequired) => {\n\n    const elements = [];\n    PROPERTIES_BY_QUESTION_TYPE[type.toUpperCase()][\n      // deciding what properties should be rendered (what JSON element we should look at)\n      renderRequired ? \"requiredProperties\" : \"optionalProperties\"\n    ].map((property) =>\n      elements.push(\n        React.createElement(property)\n      )\n    );\n    elements.forEach((element) => console.log(element));\n    return elements;\n  };\n\n  const PropertyCategory = (props) => {\n    const style = props.renderRequired\n      ? { color: \"#FF9999\", title: \"Required\" }\n      : { color: \"#BABAF1\", title: \"Optional\" };\n\n    return (\n      <Grid item xs={12}>\n        <Card style={{ borderColor: style.color }} variant=\"outlined\">\n          <CardContent>\n            <Typography>{style.title}</Typography>\n            {renderProperties(props.renderRequired)}\n            {/* {type && renderProperties(props.renderRequired)} */}\n          </CardContent>\n        </Card>\n      </Grid>\n    );\n  };\n\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={4}\n    >\n      <Grid\n        item\n        xs={12}\n      ></Grid>\n      <Grid item xs={12}>\n        <Grid container direction=\"row\" spacing={5}>\n          <PropertyCategory renderRequired />\n          <PropertyCategory renderRequired={false} />\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst DialogFooter = ({ handleClose }) => {\n  return (\n    <Grid container direction=\"row\" alignItems=\"flex-start\" justify=\"flex-end\">\n      <Grid item xs>\n        <Button variant=\"contained\" color=\"secondary\" onClick={handleClose}>\n          cancel\n        </Button>\n      </Grid>\n      <Grid item xs>\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n          submit\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}